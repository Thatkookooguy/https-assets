(function(){function a(){p(),r=b(),c(document.body,r),document.body.appendChild(r)}function b(){const a=document.createElement("div");a.id="kb-diagram";const b=document.createElement("div");return b.className="resizer",a.appendChild(b),b.addEventListener("mousedown",m,!1),a.addEventListener("drop",l,!1),a}function c(a,b){if("kb-diagram"!==a.id){if("SCRIPT"!==a.nodeName){const e=document.createElement("div");e.classList.add("kb-element-rep");const f=document.createElement("div");f.classList.add("children"),e.innerHTML=`<div class="kb-title">${a.nodeName}<div/>`,e.appendChild(f),e.setAttribute("kb-name",a.nodeName),e.originalNode=a,"BODY"!==a.nodeName&&(e.addEventListener("dragstart",j),e.setAttribute("draggable",!0),e.addEventListener("dragover",i),e.addEventListener("dragleave",k)),e.style.backgroundColor=`#${d(a.nodeName)}`,b.appendChild(e),e.addEventListener("mouseover",g,!1),e.addEventListener("mouseout",h,!1),a.children.length&&c(a.children[0],f)}a.nextElementSibling&&c(a.nextElementSibling,b)}}function d(a){return function(a){var b=(255&a>>24).toString(16)+(255&a>>16).toString(16)+(255&a>>8).toString(16)+(255&a).toString(16);return b+="000000",b.substring(0,6)}(function(a){for(var b=0,c=0;c<a.length;c++)b=a.charCodeAt(c)+((b<<5)-b);return b}(a+"hello"))}function e(a,b,c){return"left"===a?(b.parentNode.removeChild(b),void c.parentNode.insertBefore(b,c)):"right"===a?(b.parentNode.removeChild(b),void c.parentNode.insertBefore(b,c.nextSibling)):"in"===a?(b.parentNode.removeChild(b),void c.appendChild(b)):void 0}function f(a,b){let c=a;for(;c&&c!==b;)c=c.parentNode;return!!c}function g(){this.originalNode&&this.originalNode.classList.add("kb-hover")}function h(){this.originalNode&&this.originalNode.classList.remove("kb-hover")}function i(a){if(f(a.target,q))return void(a.target.style.border="");if(a.preventDefault(),"kb-element-rep"!==a.target.className)return;const b=window.event.pageX,c=a.target.getBoundingClientRect(),d=b-c.left;10>d?(a.target.style.border="",a.target.style.borderLeft="5px solid black"):10>c.width-d?(a.target.style.border="",a.target.style.borderRight="5px solid black"):a.target.style.border="5px solid black"}function j(){q=event.target}function k(a){"kb-element-rep"==a.target.className&&(a.target.style.border="")}function l(a){a.preventDefault();const b=a.target;"kb-element-rep"==b.className&&(b.style.borderLeft&&(e("left",q,b),e("left",q.originalNode,b.originalNode)),b.style.borderRight&&(e("right",q,b),e("right",q.originalNode,b.originalNode)),a.target.style.border&&(e("in",q,b),e("in",q.originalNode,b.originalNode)),a.target.style.border="")}function m(a){s=a.clientY,t=parseInt(document.defaultView.getComputedStyle(r).height,10),document.documentElement.addEventListener("mousemove",n,!1),document.documentElement.addEventListener("mouseup",o,!1)}function n(a){r.style.height=t-a.clientY+s+"px"}function o(){document.documentElement.removeEventListener("mousemove",n,!1),document.documentElement.removeEventListener("mouseup",o,!1)}function p(){const a=document.head||document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css",b.innerHTML="\n#kb-diagram {\nposition: fixed;\nbottom: 0;\nleft: 0;\nright: 0;\nheight: 300px;\nz-index: 100000;\nbackground: lightgrey;\noverflow-y: auto;\nresize: vertical;\npadding-top: 0.5em;\n}\n\n.resizer {\nheight: 9px;\nposition: absolute;\nleft: 0;\nright: 0;\ntop: 0;\ncursor: n-resize;\n}\n\n.kb-title {\npointer-events: none;\n}\n\n.children {\ndisplay: flex;\nalign-items: flex-start;\nflex-wrap: wrap;\n}\n\n.kb-element-rep {\nborder: 1px solid black;\ndisplay: inline-block;\npadding: 0.5em;\nmin-width: 3em;\nmin-height: 3em;\nmargin: 0.1em;\n}\n\n.kb-hover {\nbackground: rgba(0, 255, 0, 0.2) !important;\n}\n",a.appendChild(b)}let q,r,s,t;a()})();